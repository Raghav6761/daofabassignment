{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../child.service\";\nimport * as i3 from \"../parent.service\";\nimport * as i4 from \"@angular/common\";\nfunction ChildComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaction_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.sender);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.receiver);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.totalAmount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r1.paidAmount);\n  }\n}\nclass ChildComponent {\n  constructor(route, childService, parentService) {\n    this.route = route;\n    this.childService = childService;\n    this.parentService = parentService;\n    this.childTransactions = [];\n    this.parentTransactions = [];\n  }\n  ngOnInit() {\n    this.loadParentTransactions();\n  }\n  // Calls all the parent transactions using parent service and then calls loadChildTransactions()\n  loadParentTransactions() {\n    console.log('in load parents');\n    this.parentService.getParentTransactions().subscribe(transactions => {\n      console.log('parent transactions');\n      this.parentTransactions = transactions;\n      this.loadChildTransactions();\n    }, error => {\n      console.log('Error Fetching Parent Transcations: ', error);\n    });\n  }\n  // Calls for all the child transactions using child service\n  loadChildTransactions() {\n    let parentId = this.route.snapshot.paramMap.get('parentId');\n    if (parentId !== null) {\n      this.childService.getChildTransactions(parentId).subscribe(transactions => {\n        this.childTransactions = transactions;\n        this.childTransactions.forEach(child => {\n          this.parentTransactions.forEach(parent => {\n            if (parent.id == child.parentId) {\n              child.sender = parent.sender;\n              child.receiver = parent.receiver;\n              child.totalAmount = parent.totalAmount;\n            }\n          });\n        });\n      }, error => {\n        console.log('Error retrieving child transactions:', error);\n      });\n    }\n  }\n}\nChildComponent.ɵfac = function ChildComponent_Factory(t) {\n  return new (t || ChildComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ChildService), i0.ɵɵdirectiveInject(i3.ParentService));\n};\nChildComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChildComponent,\n  selectors: [[\"app-child\"]],\n  decls: 15,\n  vars: 1,\n  consts: [[1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"]],\n  template: function ChildComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\", 1);\n      i0.ɵɵtext(4, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\", 1);\n      i0.ɵɵtext(6, \"Sender\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\", 1);\n      i0.ɵɵtext(8, \"Receiver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 1);\n      i0.ɵɵtext(10, \"Total Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 1);\n      i0.ɵɵtext(12, \"Paid Amount\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"tbody\");\n      i0.ɵɵtemplate(14, ChildComponent_tr_14_Template, 11, 5, \"tr\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.childTransactions);\n    }\n  },\n  dependencies: [i4.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ChildComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","transaction_r1","id","sender","receiver","totalAmount","paidAmount","ChildComponent","constructor","route","childService","parentService","childTransactions","parentTransactions","ngOnInit","loadParentTransactions","console","log","getParentTransactions","subscribe","transactions","loadChildTransactions","error","parentId","snapshot","paramMap","get","getChildTransactions","forEach","child","parent","ɵɵdirectiveInject","i1","ActivatedRoute","i2","ChildService","i3","ParentService","selectors","decls","vars","consts","template","ChildComponent_Template","rf","ctx","ɵɵtemplate","ChildComponent_tr_14_Template","ɵɵproperty"],"sources":["E:\\angular\\daofabassignment\\src\\app\\child\\child.component.ts","E:\\angular\\daofabassignment\\src\\app\\child\\child.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ChildService } from '../child.service';\nimport { ChildTransaction } from './child.model';\nimport { ParentTransaction } from '../parent.model';\nimport { ParentService } from '../parent.service';\n\n@Component({\n  selector: 'app-child',\n  templateUrl: './child.component.html',\n  styleUrls: ['./child.component.css']\n})\nexport class ChildComponent implements OnInit{\n  childTransactions: ChildTransaction[] = [];\n  parentTransactions: ParentTransaction[] = [];\n\n  constructor(\n    private route: ActivatedRoute,\n    private childService: ChildService,\n    private parentService: ParentService\n  ) {}\n\n  ngOnInit(): void {\n    this.loadParentTransactions();\n  }\n\n  // Calls all the parent transactions using parent service and then calls loadChildTransactions()\n  loadParentTransactions(): void{\n    console.log('in load parents');\n    this.parentService.getParentTransactions().subscribe(\n      (transactions: ParentTransaction[])=>{\n        console.log('parent transactions');\n        this.parentTransactions = transactions;\n        this.loadChildTransactions();\n      },\n      (error) =>{\n        console.log('Error Fetching Parent Transcations: ', error);\n      }\n    );\n  }\n\n  // Calls for all the child transactions using child service\n  loadChildTransactions(): void {\n    let parentId = this.route.snapshot.paramMap.get('parentId');\n    if (parentId !== null){\n      this.childService.getChildTransactions(parentId).subscribe(\n        (transactions: ChildTransaction[]) => {\n          this.childTransactions = transactions;\n          this.childTransactions.forEach(child => {\n            this.parentTransactions.forEach(parent =>{\n              if (parent.id == child.parentId){\n                child.sender = parent.sender;\n                child.receiver = parent.receiver;\n                child.totalAmount = parent.totalAmount;\n              }\n            })\n          });\n        },\n        (error: any) => {\n          console.log('Error retrieving child transactions:', error);\n        }\n      );\n    }\n  }\n}\n","<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">ID</th>\n      <th scope=\"col\">Sender</th>\n      <th scope=\"col\">Receiver</th>\n      <th scope=\"col\">Total Amount</th>\n      <th scope=\"col\">Paid Amount</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let transaction of childTransactions\">\n      <th scope=\"row\">{{transaction.id}}</th>\n      <td>{{ transaction.sender }}</td>\n      <td>{{ transaction.receiver }}</td>\n      <td>{{ transaction.totalAmount }}</td>\n      <td>{{ transaction.paidAmount }}</td>\n    </tr>\n  </tbody>\n</table>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}